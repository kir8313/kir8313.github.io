"use strict";(self["webpackChunkcrm_system"]=self["webpackChunkcrm_system"]||[]).push([[311],{6311:function(s,r,a){a.r(r),a.d(r,{default:function(){return E}});var e=a(3396),t=a(9242),i=a(7139);const l={class:"grey darken-1 empty-layout"},o={class:"card-content"},d=(0,e._)("span",{class:"card-title"},"Авторизация",-1),n={class:"input-field"},u=(0,e._)("label",{for:"password"},"Email",-1),m={class:"helper-text invalid"},c={class:"input-field"},p=(0,e._)("label",{for:"password"},"Пароль",-1),v={class:"helper-text invalid"},w={class:"card-action"},h=(0,e._)("div",null,[(0,e._)("button",{class:"btn waves-effect waves-light auth-submit",type:"submit"},[(0,e.Uk)(" Войти "),(0,e._)("i",{class:"material-icons right"},"send")])],-1),$={class:"center"},_=(0,e.Uk)(" Нет аккаунта? "),g=(0,e.Uk)("Зарегистрироваться");function y(s,r,a,y,f,k){const b=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",l,[(0,e._)("form",{class:"card auth-card",onSubmit:r[2]||(r[2]=(0,t.iM)(((...s)=>k.submitForm&&k.submitForm(...s)),["prevent"]))},[(0,e._)("div",o,[d,(0,e._)("div",n,[(0,e.wy)((0,e._)("input",{id:"email",type:"text","onUpdate:modelValue":r[0]||(r[0]=s=>f.email=s),class:(0,i.C_)({invalid:f.v$.email.$errors.length})},null,2),[[t.nr,f.email,void 0,{trim:!0}]]),u,f.v$.email.$errors?((0,e.wg)(!0),(0,e.iD)(e.HY,{key:0},(0,e.Ko)(f.v$.email.$errors,((s,r)=>((0,e.wg)(),(0,e.iD)("small",m,(0,i.zw)(k.addError(s.$validator)),1)))),256)):(0,e.kq)("",!0)]),(0,e._)("div",c,[(0,e.wy)((0,e._)("input",{id:"password",type:"password","onUpdate:modelValue":r[1]||(r[1]=s=>f.password=s),class:(0,i.C_)({invalid:f.v$.password.$errors.length})},null,2),[[t.nr,f.password]]),p,f.v$.password.$errors?((0,e.wg)(!0),(0,e.iD)(e.HY,{key:0},(0,e.Ko)(f.v$.password.$errors,((s,r)=>((0,e.wg)(),(0,e.iD)("small",v,(0,i.zw)(k.addError(s.$validator,s.$params.min)),1)))),256)):(0,e.kq)("",!0)])]),(0,e._)("div",w,[h,(0,e._)("p",$,[_,(0,e.Wm)(b,{to:"/register"},{default:(0,e.w5)((()=>[g])),_:1})])])],32)])}var f=a(4137),k=a(9117),b=a(2130),q={data(){return{v$:(0,f.ZP)(),email:"",password:""}},validations(){return{email:{email:k.Do,required:k.C1},password:{required:k.C1,minLength:(0,k.Ei)(6)}}},methods:{async submitForm(){if(this.v$.$invalid)return this.v$.$touch();const s={email:this.email,password:this.password};try{await this.$store.dispatch("login",s),await this.$router.push("/")}catch(r){}},addError(s,r=0){return"required"===s?"Поле не должно быть пустым":"minLength"===s?`Минимальная длина должна быть ${r} символа`:"email"===s?"Введите корректный email":void 0}},mounted(){b.Z[this.$route.query.message]&&this.$alert(b.Z[this.$route.query.message])}},C=a(89);const D=(0,C.Z)(q,[["render",y]]);var E=D}}]);
//# sourceMappingURL=311.cda2a3a7.js.map