"use strict";(self["webpackChunkcrm_system"]=self["webpackChunkcrm_system"]||[]).push([[388],{1388:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}});var s=t(3396),i=t(9242),a=t(7139);const n=(0,s._)("div",{class:"page-title"},[(0,s._)("h3",null,"Профиль")],-1),u={class:"input-field"},m=(0,s._)("label",{for:"description"},"Имя",-1),l={class:"helper-text invalid"},o=(0,s._)("button",{class:"btn waves-effect waves-light",type:"submit"},[(0,s.Uk)(" Обновить "),(0,s._)("i",{class:"material-icons right"},"send")],-1);function d(e,r,t,d,c,h){return(0,s.wg)(),(0,s.iD)("div",null,[n,(0,s._)("form",{class:"form",onSubmit:r[1]||(r[1]=(0,i.iM)(((...e)=>h.submitForm&&h.submitForm(...e)),["prevent"]))},[(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{id:"description",type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>c.userName=e),class:(0,a.C_)({invalid:c.v$.userName.$errors.length})},null,2),[[i.nr,c.userName,void 0,{trim:!0}]]),m,c.v$.userName.$errors?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(c.v$.userName.$errors,(e=>((0,s.wg)(),(0,s.iD)("small",l,(0,a.zw)(h.addError(e.$validator,e.$params.min)),1)))),256)):(0,s.kq)("",!0)]),o],32)])}var c=t(4137),h=t(9117),v=t(65),$={data(){return{v$:(0,c.ZP)(),userName:""}},validations(){return{userName:{required:h.C1,minLength:(0,h.Ei)(2)}}},methods:{async submitForm(){if(this.v$.$invalid)return this.v$.$touch();try{this.user.name!==this.userName?(await this.$store.dispatch("changeName",this.userName),this.userName="",this.$alert("Имя успешно изменено!"),this.v$.$reset()):this.$alert("Имя не должно быть одинаковым!")}catch(e){}},addError(e,r=0){return"required"===e?"Поле не должно быть пустым":"minLength"===e?`Минимальная длина должна быть ${r} символа`:void 0}},computed:(0,v.Se)(["user"])},p=t(89);const f=(0,p.Z)($,[["render",d]]);var N=f}}]);
//# sourceMappingURL=388.5db95f9b.js.map