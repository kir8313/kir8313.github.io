{"version":3,"file":"js/388.5db95f9b.js","mappings":"2MAEIA,EAAAA,EAAAA,GAEM,OAFDC,MAAM,cAAY,EACrBD,EAAAA,EAAAA,GAAgB,UAAZ,aADN,G,GAKOC,MAAM,e,GAOTD,EAAAA,EAAAA,GAAoC,SAA7BE,IAAI,eAAc,OAAG,G,GAG1BD,MAAM,uB,GAMVD,EAAAA,EAAAA,GAGS,UAHDC,MAAM,+BAA+BE,KAAK,UAAlD,UAA2D,eAEzDH,EAAAA,EAAAA,GAAwC,KAArCC,MAAM,wBAAuB,UAFlC,G,0CAtBJG,EAAAA,EAAAA,IA2BM,YA1BJC,GAIAL,EAAAA,EAAAA,GAqBO,QArBDC,MAAM,OAAQK,SAAM,8BAAUC,EAAAA,YAAAA,EAAAA,cAAAA,IAAU,eAA9C,EACEP,EAAAA,EAAAA,GAcM,MAdN,EAcM,WAbJA,EAAAA,EAAAA,GAKC,SAJCQ,GAAG,cACHL,KAAK,O,qCACSM,EAAAA,SAAQC,GACrBT,OAAK,SAAAU,QAAYF,EAAAA,GAAGG,SAASC,QAAQC,UAJxC,eAGgBL,EAAAA,cAAAA,EAAAA,C,MAAd,MAGFM,EAEQN,EAAAA,GAAGG,SAASC,UAAAA,EAAAA,EAAAA,KAAAA,IADpBT,EAAAA,EAAAA,IAKQY,EAAAA,GAAA,CAAAC,IAAAA,IAAAC,EAAAA,EAAAA,IAFUT,EAAAA,GAAGG,SAASC,SAArBM,K,WAHTf,EAAAA,EAAAA,IAKQ,QALR,GAKQgB,EAAAA,EAAAA,IADHb,EAAAA,SAASY,EAAME,WAAYF,EAAMG,QAAQC,MAAG,MAJjD,wBAQFC,GAjBF,M,gCA8BJ,GACEC,OACE,MAAO,CACLC,IAAIC,EAAAA,EAAAA,MACJf,SAAU,KAIdgB,cACE,MAAO,CACLhB,SAAU,CAACiB,SAAD,KAAWC,WAAWA,EAAAA,EAAAA,IAAU,MAI9CC,QAAS,CACPC,mBACE,GAAIC,KAAKP,GAAGQ,SACV,OAAOD,KAAKP,GAAGS,SAEjB,IACMF,KAAKG,KAAKC,OAASJ,KAAKrB,gBACpBqB,KAAKK,OAAOC,SAAS,aAAcN,KAAKrB,UAC9CqB,KAAKrB,SAAW,GAChBqB,KAAKO,OAAO,yBACZP,KAAKP,GAAGe,UAERR,KAAKO,OAAO,kCAEd,MAAOE,MAEXC,SAASN,EAAMO,EAAQ,GACrB,MAAa,aAATP,EACK,6BACW,cAATA,EACD,iCAAgCO,iBADnC,IAKXC,UAAUC,EAAAA,EAAAA,IAAW,CAAC,U,QCrExB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://crm-system/./src/views/Profile.vue","webpack://crm-system/./src/views/Profile.vue?24e8"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"page-title\">\r\n      <h3>Профиль</h3>\r\n    </div>\r\n\r\n    <form class=\"form\" @submit.prevent=\"submitForm\">\r\n      <div class=\"input-field\">\r\n        <input\r\n          id=\"description\"\r\n          type=\"text\"\r\n          v-model.trim=\"userName\"\r\n          :class=\"{invalid: v$.userName.$errors.length}\"\r\n        >\r\n        <label for=\"description\">Имя</label>\r\n        <small\r\n          v-if=\"v$.userName.$errors\"\r\n          class=\"helper-text invalid\"\r\n          v-for=\"error of v$.userName.$errors\">\r\n          {{ addError(error.$validator, error.$params.min) }}\r\n        </small>\r\n      </div>\r\n\r\n      <button class=\"btn waves-effect waves-light\" type=\"submit\">\r\n        Обновить\r\n        <i class=\"material-icons right\">send</i>\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport {required, minLength, minValue} from '@vuelidate/validators';\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      v$: useVuelidate(),\r\n      userName: '',\r\n    }\r\n  },\r\n\r\n  validations() {\r\n    return {\r\n      userName: {required, minLength: minLength(2)},\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async submitForm() {\r\n      if (this.v$.$invalid) {\r\n        return this.v$.$touch();\r\n      }\r\n      try {\r\n        if (this.user.name !== this.userName) {\r\n          await this.$store.dispatch('changeName', this.userName)\r\n          this.userName = '';\r\n          this.$alert('Имя успешно изменено!');\r\n          this.v$.$reset();\r\n        } else {\r\n          this.$alert('Имя не должно быть одинаковым!')\r\n        }\r\n      } catch (e) {}\r\n    },\r\n    addError(name, count = 0) {\r\n      if (name === 'required') {\r\n        return 'Поле не должно быть пустым';\r\n      } else if (name === 'minLength') {\r\n        return `Минимальная длина должна быть ${count} символа`;\r\n      }\r\n    }\r\n  },\r\n  computed: mapGetters(['user'])\r\n}\r\n</script>\r\n","import { render } from \"./Profile.vue?vue&type=template&id=f66c2baa\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\cmg-user\\\\Desktop\\\\все\\\\Школа Минина\\\\vue\\\\13- курсовые\\\\99-crm-system\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","type","_createElementBlock","_hoisted_1","onSubmit","$options","id","$data","$event","invalid","userName","$errors","length","_hoisted_3","_Fragment","key","_renderList","error","_toDisplayString","$validator","$params","min","_hoisted_5","data","v$","useVuelidate","validations","required","minLength","methods","async","this","$invalid","$touch","user","name","$store","dispatch","$alert","$reset","e","addError","count","computed","mapGetters","__exports__","render"],"sourceRoot":""}