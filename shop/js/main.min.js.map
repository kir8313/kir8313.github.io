{"version":3,"sources":["main.min.js"],"names":["showBurger","burger","document","querySelector","menu","body","addEventListener","classList","toggle","querySelectorAll","forEach","item","remove","showMore","btnAdd","parentElement","add","e","this","accordion","parent","currentTarget","content","contains","setAttribute","showPopup","popupLinks","lockPadding","unlock","length","popupLink","popupName","getAttribute","replace","popupOpen","getElementById","preventDefault","popupCloseIcon","el","popupClose","closest","curentPopup","popupActive","lockPaddingValue","window","innerWidth","offsetWidth","getElementsByClassName","paddingRight","style","setTimeout","bodylock","target","doUnlock","which","Element","prototype","css","node","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","form","formAddError","input","formRemoveError","emailTest","test","value","async","error","formReq","i","formValidate","formData","FormData","response","fetch","method","ok","json","send","innerHTML","alert","VanillaTilt","init","max","speed","rangeSlider","noUiSlider","create","start","connect","step","range","min","inputs","on","values","handle","Math","round","setRangeSlider","arr","set","index"],"mappings":"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","file":"main.min.js","sourcesContent":["showBurger();\r\nfunction showBurger() {\r\n  const burger = document.querySelector('.nav__burger');\r\n  const menu = document.querySelector('.nav__menu');\r\n  const body = document.querySelector('body');\r\n\r\n  burger.addEventListener('click', () =>  {      \r\n      menu.classList.toggle('active');\r\n      burger.classList.toggle('active');\r\n      body.classList.toggle('lock');      \r\n  });\r\n  document.querySelectorAll('.nav__link').forEach(item =>{\r\n    item.addEventListener('click', () =>{\r\n \r\n    burger.classList.remove('active');\r\n    menu.classList.remove('active');\r\n    body.classList.remove('lock');  \r\n    });\r\n  })\r\n};\n\r\nif(document.querySelector('#form')){\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tconst form = document.getElementById('form');\r\n\t\tform.addEventListener('submit', formSend);\r\n\t  \r\n\t    async function formSend (e) {\r\n            e.preventDefault();\r\n            let error = formValidate(form);\r\n        \r\n            let formData = new FormData(form);\r\n        \r\n            if(error === 0) {\r\n                form.classList.add('_sending');\r\n                let response = await fetch('../docs/sendmail.php', {\r\n                method: 'POST',\r\n                body: formData,\r\n                });\r\n                if(response.ok){\r\n                let result = await response.json();\r\n                // alert('Данные отправлены');\r\n                // form.remove();\r\n                document.querySelectorAll('.--send').forEach(send => send.remove);\r\n                document.querySelector('.form__title').innerHTML = \"Данные отправлены\";\r\n                form.classList.remove('_sending')\r\n                } else{\r\n                alert ('Ошибка')\r\n                form.classList.remove('_sending')\r\n                }\r\n            } else{\r\n                alert('Заполните обязательные поля');\r\n            }\r\n\t\t}\r\n\t    \r\n\t  \r\n\t\tfunction formValidate (form) {\r\n            let error = 0;\r\n            let formReq = document.querySelectorAll('._req');\r\n        \r\n            for(let i = 0; i < formReq.length; i++) {\r\n                const input = formReq[i];\r\n                formRemoveError(input);\r\n        \r\n                if(input.classList.contains('_email')) {\r\n                if(emailTest(input)){\r\n                    formAddError(input);\r\n                    error++;\r\n                }\r\n                } else{\r\n                    if(input.value === '') {\r\n                    formAddError(input);\r\n                    error++;\r\n                    }\r\n                }\r\n\t\t  }\r\n\t\t  return error;\r\n\t\t}\r\n\t\tfunction formAddError(input) {    \r\n\t\t    input.classList.add('_error');\r\n\t\t}\r\n\t\tfunction formRemoveError(input) {    \r\n\t\t    input.classList.remove('_error');\r\n\t\t}\r\n\t\t//  тест email\r\n\t\tfunction emailTest(input) {\r\n\t\t    return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n\t\t} \r\n\t  \r\n\t  });\r\n}\r\n\r\n\r\nshowMore();\r\nfunction showMore() {\t  \r\n\tconst btnAdds = document.querySelectorAll('.--btn-add');\r\n\tbtnAdds.forEach(btnAdd=> {\r\n\r\n\t\tbtnAdd.parentElement.classList.add('--hide-content')\t\r\n\t\tbtnAdd.addEventListener('click', function(e)  {\r\n\t\t\tthis.parentElement.classList.remove('--hide-content');\t\t\t\r\n\t\t\tbtnAdd.remove();\r\n\t\t})\r\n\t})\r\n\r\n}\r\n\r\nif(document.querySelectorAll('.accordion')){accordion()}\r\nfunction accordion() {\r\n\tconst accordions = document.querySelectorAll('.accordion__trigger');\r\n\taccordions.forEach(accordion => {\r\n\t\taccordion.addEventListener('click', (e) => {\r\n\t\t\tconst self = e.currentTarget;\r\n\t\t\tconst parent = self.parentElement;\r\n\t\t\tconst content = parent.querySelector('.accordion__content');\r\n\t\t\tparent.classList.toggle('open');\r\n\t\t\t\r\n\t\t\tif (parent.classList.contains('open')) {\r\n\t\t\t\taccordion.setAttribute('aria-expanded', true);\r\n\t\t\t\tcontent.setAttribute('aria-hidden', false);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\taccordion.setAttribute('aria-expanded', false);\r\n\t\t\t\tcontent.setAttribute('aria-hidden', true);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\t\t\t\r\n\t});\t\t\r\n\t\r\n}\r\n\r\nVanillaTilt.init(document.querySelectorAll(\".card__img img\"), {\r\n\tmax: 25,\r\n\tspeed: 600,\r\n});\r\n\r\n\nshowPopup();\r\nfunction showPopup() {\r\n  const popupLinks = document.querySelectorAll('.popup-link');\r\n  const body = document.querySelector('body');\r\n  const lockPadding = document.querySelectorAll('.lock-padding');\r\n  let unlock = true;\r\n  const timeout = 600;\r\n\r\nif (popupLinks.length > 0) {\r\n  for( let item = 0; item < popupLinks.length; item++) {\r\n    const popupLink = popupLinks[item];\r\n    popupLink.addEventListener('click', (e) => {\r\n      const popupName = popupLink.getAttribute('href').replace('#', '');\r\n      const curentPopup = document.getElementById(popupName);\r\n      popupOpen(curentPopup);\r\n      e.preventDefault();\r\n    });\r\n  }\r\n}\r\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\r\nif (popupCloseIcon.length > 0) {\r\n  for (let item = 0; item < popupCloseIcon.length; item++) {\r\n    const el = popupCloseIcon[item];\r\n    el.addEventListener('click', (e) => {\r\n      popupClose(el.closest('.popup'));\r\n      e.preventDefault();\r\n    })\r\n  }\r\n}\r\n\r\nfunction popupOpen(curentPopup) {\r\n  if (curentPopup && unlock) {\r\n    const popupActive = document.querySelector('.popup.open');\r\n    if (popupActive) {\r\n      popupClose(popupActive, false);      \r\n    } else{\r\n      bodylock();\r\n    }\r\n    curentPopup.classList.add('open');\r\n    curentPopup.addEventListener('click', function (e) {\r\n      if (!e.target.closest('.popup__content')) {\r\n        popupClose(e.target.closest('.popup'));\r\n      }\r\n    });\r\n  }\r\n}\r\nfunction popupClose(popupActive, doUnlock = true) {\r\n  if (unlock){\r\n    popupActive.classList.remove('open');\r\n    if(doUnlock) {\r\n      bodyUnlock();\r\n    }\r\n  }\r\n}\r\nfunction bodylock () {\r\n  const lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\r\n  if(lockPadding.length > 0) {  \r\n    for (let item = 0; item<lockPadding.length; item++) {          \r\n      const el = lockPadding[item];\r\n      el.getElementsByClassName.paddingRight = lockPaddingValue;    \r\n    }\r\n  }\r\n  body.style.paddingRight = lockPaddingValue;\r\n  body.classList.add('lock');\r\n\r\n  unlock = false;\r\n  setTimeout( () => {\r\n    unlock = true;\r\n  }, timeout)\r\n}\r\n\r\nfunction bodyUnlock() {\r\n  setTimeout( () => {\r\n    if (lockPadding.length > 0) {\r\n      for (let item = 0; item < lockPadding.length; item++) {\r\n        const el = lockPadding[item];\r\n        el.style.paddingRight = '0px';\r\n      }\r\n    }\r\n    body.style.paddingRight = '0px';\r\n    body.classList.remove('lock');    \r\n  }, timeout);\r\n\r\n  unlock = false;\r\n  setTimeout( () => {\r\n    unlock = true;\r\n  }, timeout)\r\n}\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if (e.which === 27) {\r\n    const popupActive = document.querySelector('.popup.open');\r\n    popupClose(popupActive);\r\n  }\r\n});\r\n(function () {\r\n  // проверяем поддержку\r\n  if (!Element.prototype.closest) {\r\n    // реализуем\r\n    Element.prototype.closest = function (css) {\r\n      var node = this;\r\n       while (node) {\r\n         if (node.matches(css)) return node;\r\n         else node = node.parentElement;\r\n       }\r\n       return null;\r\n    };\r\n  }\r\n})();\r\n(function () {\r\n  // проверяем поддержку\r\n  if(!Element.prototype.matches) {\r\n    // определяем свойство\r\n    Element.prototype.matches = Element.prototype.matchesSelector ||\r\n      Element.prototype.webkitMatchesSelector ||\r\n      Element.prototype.mozMatchesSelector ||\r\n      Element.prototype.msMatchesSelector;\r\n  }\r\n})();\r\n  \r\n}\nconst rangeSlider = document.getElementById('range-slider');\r\n\r\nif (rangeSlider) {\r\n\tnoUiSlider.create(rangeSlider, {\r\n    start: [300, 100000],\r\n\t\tconnect: true,\r\n\t\tstep: 1,\r\n    range: {\r\n\t\t\t'min': [300],\r\n\t\t\t'max': [100000]\r\n    }\r\n\t});\r\n\r\n\tconst input0 = document.getElementById('input-0');\r\n\tconst input1 = document.getElementById('input-1');\r\n\tconst inputs = [input0, input1];\r\n\r\n\trangeSlider.noUiSlider.on('update', function(values, handle){\r\n\t\tinputs[handle].value = Math.round(values[handle]);\r\n\t});\r\n\r\n\tconst setRangeSlider = (i, value) => {\r\n\t\tlet arr = [null, null];\r\n\t\tarr[i] = value;\r\n\r\n\t\trangeSlider.noUiSlider.set(arr);\r\n\t};\r\n\r\n\tinputs.forEach((el, index) => {\r\n\t\tel.addEventListener('change', (e) => {\r\n\t\t\tsetRangeSlider(index, e.currentTarget.value);\r\n\t\t});\r\n\t});\r\n}"]}