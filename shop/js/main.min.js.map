{"version":3,"sources":["main.min.js"],"names":["showBurger","burger","document","querySelector","menu","body","addEventListener","classList","toggle","querySelectorAll","forEach","item","remove","showMore","btnAdds","index","length","btnAdd","parentElement","add","e","this","accordion","accordions","subAccordions","parent","currentTarget","content","contains","setAttribute","subAccordion","parentNode","style","maxHeight","scrollHeight","showPopup","popupLinks","lockPadding","unlock","popupLink","popupName","getAttribute","replace","popupOpen","getElementById","preventDefault","popupCloseIcon","el","popupClose","closest","curentPopup","popupActive","lockPaddingValue","window","innerWidth","offsetWidth","getElementsByClassName","paddingRight","setTimeout","bodylock","target","doUnlock","which","Element","prototype","css","node","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","form","formAddError","input","formRemoveError","emailTest","test","value","async","error","formReq","i","formValidate","formData","FormData","response","fetch","method","ok","json","send","innerHTML","alert","rangeSlider","noUiSlider","create","start","connect","step","range","min","max","inputs","on","values","handle","Math","round","setRangeSlider","arr","set"],"mappings":"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","file":"main.min.js","sourcesContent":["showBurger();\r\nfunction showBurger() {\r\n  const burger = document.querySelector('.nav__burger');\r\n  const menu = document.querySelector('.nav__menu');\r\n  const body = document.querySelector('body');\r\n\r\n  burger.addEventListener('click', () =>  {      \r\n      menu.classList.toggle('active');\r\n      burger.classList.toggle('active');\r\n      body.classList.toggle('lock');      \r\n  });\r\n  document.querySelectorAll('.nav__link').forEach(item =>{\r\n    item.addEventListener('click', () =>{\r\n \r\n    burger.classList.remove('active');\r\n    menu.classList.remove('active');\r\n    body.classList.remove('lock');  \r\n    });\r\n  })\r\n};\n\r\nif(document.querySelector('#form')){\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tconst form = document.getElementById('form');\r\n\t\tform.addEventListener('submit', formSend);\r\n\t  \r\n\t    async function formSend (e) {\r\n            e.preventDefault();\r\n            let error = formValidate(form);\r\n        \r\n            let formData = new FormData(form);\r\n        \r\n            if(error === 0) {\r\n                form.classList.add('_sending');\r\n                let response = await fetch('../docs/sendmail.php', {\r\n                method: 'POST',\r\n                body: formData,\r\n                });\r\n                if(response.ok){\r\n                let result = await response.json();\r\n                // alert('Данные отправлены');\r\n                // form.remove();\r\n                document.querySelectorAll('.--send').forEach(send => send.remove);\r\n                document.querySelector('.form__title').innerHTML = \"Данные отправлены\";\r\n                form.classList.remove('_sending')\r\n                } else{\r\n                alert ('Ошибка')\r\n                form.classList.remove('_sending')\r\n                }\r\n            } else{\r\n                alert('Заполните обязательные поля');\r\n            }\r\n\t\t}\r\n\t    \r\n\t  \r\n\t\tfunction formValidate (form) {\r\n            let error = 0;\r\n            let formReq = document.querySelectorAll('._req');\r\n        \r\n            for(let i = 0; i < formReq.length; i++) {\r\n                const input = formReq[i];\r\n                formRemoveError(input);\r\n        \r\n                if(input.classList.contains('_email')) {\r\n                if(emailTest(input)){\r\n                    formAddError(input);\r\n                    error++;\r\n                }\r\n                } else{\r\n                    if(input.value === '') {\r\n                    formAddError(input);\r\n                    error++;\r\n                    }\r\n                }\r\n\t\t  }\r\n\t\t  return error;\r\n\t\t}\r\n\t\tfunction formAddError(input) {    \r\n\t\t    input.classList.add('_error');\r\n\t\t}\r\n\t\tfunction formRemoveError(input) {    \r\n\t\t    input.classList.remove('_error');\r\n\t\t}\r\n\t\t//  тест email\r\n\t\tfunction emailTest(input) {\r\n\t\t    return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n\t\t} \r\n\t  \r\n\t  });\r\n}\r\n\r\n\r\nshowMore();\r\nfunction showMore() {\t  \r\n\tconst btnAdds = document.querySelectorAll('.--btn-add');\r\n\tfor (let index = 0; index < btnAdds.length; index++) {\r\n\t\tconst btnAdd = btnAdds[index];\t\r\n\t\tbtnAdd.parentElement.parentElement.classList.add('--hide')\t\r\n\t\tbtnAdd.addEventListener('click', function(e)  {\r\n\t\t\tthis.parentElement.parentElement.classList.remove('--hide');\t\t\t\r\n\t\t\tbtnAdd.remove();\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nif(document.querySelectorAll('.accordion')){accordion()}\r\nfunction accordion() {\r\n\tconst accordions = document.querySelectorAll('.accordion__control');\r\n\tconst subAccordions = document.querySelectorAll('.article-accordion__control');\r\n\taccordions.forEach(accordion => {\r\n\t\taccordion.addEventListener('click', (e) => {\r\n\t\t\tconst self = e.currentTarget;\r\n\t\t\tconst parent = self.parentElement;\r\n\t\t\tconst content = parent.querySelector('.accordion__content');\r\n\t\t\tparent.classList.toggle('open');\r\n\t\t\t\r\n\t\t\tif (parent.classList.contains('open')) {\r\n\t\t\t\taccordion.setAttribute('aria-expanded', true);\r\n\t\t\t\tcontent.setAttribute('aria-hidden', false);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\taccordion.setAttribute('aria-expanded', false);\r\n\t\t\t\tcontent.setAttribute('aria-hidden', true);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\t\t\t\r\n\t});\t\t\r\n\tsubAccordions.forEach(subAccordion =>{\r\n\t\tsubAccordion.addEventListener('click', function(e) {\r\n\t\t\tconst self = this;\r\n\t\t\tconst parent = self.parentNode;\r\n\t\t\tconst content = parent.querySelector('.article-accordion__content');\r\n\r\n\t\t\tparent.classList.toggle('open');\r\n\t\t\t\r\n\t\t\tif (parent.classList.contains('open')) {\r\n\t\t\t\tsubAccordion.setAttribute('aria-expanded', true);\r\n\t\t\t\tcontent.setAttribute('aria-hidden', false);\r\n\t\t\t\tcontent.style.maxHeight = content.scrollHeight + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tsubAccordion.setAttribute('aria-expanded', false);\r\n\t\t\t\tcontent.setAttribute('aria-hidden', true);\r\n\t\t\t\tcontent.style.maxHeight = null;\r\n\t\t\t}\r\n\t\t});\t\r\n\t\t})\t\t\t\r\n\t\r\n}\r\n\r\n\r\n\nshowPopup();\r\nfunction showPopup() {\r\n  const popupLinks = document.querySelectorAll('.popup-link');\r\n  const body = document.querySelector('body');\r\n  const lockPadding = document.querySelectorAll('.lock-padding');\r\n  let unlock = true;\r\n  const timeout = 600;\r\n\r\nif (popupLinks.length > 0) {\r\n  for( let item = 0; item < popupLinks.length; item++) {\r\n    const popupLink = popupLinks[item];\r\n    popupLink.addEventListener('click', (e) => {\r\n      const popupName = popupLink.getAttribute('href').replace('#', '');\r\n      const curentPopup = document.getElementById(popupName);\r\n      popupOpen(curentPopup);\r\n      e.preventDefault();\r\n    });\r\n  }\r\n}\r\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\r\nif (popupCloseIcon.length > 0) {\r\n  for (let item = 0; item < popupCloseIcon.length; item++) {\r\n    const el = popupCloseIcon[item];\r\n    el.addEventListener('click', (e) => {\r\n      popupClose(el.closest('.popup'));\r\n      e.preventDefault();\r\n    })\r\n  }\r\n}\r\n\r\nfunction popupOpen(curentPopup) {\r\n  if (curentPopup && unlock) {\r\n    const popupActive = document.querySelector('.popup.open');\r\n    if (popupActive) {\r\n      popupClose(popupActive, false);      \r\n    } else{\r\n      bodylock();\r\n    }\r\n    curentPopup.classList.add('open');\r\n    curentPopup.addEventListener('click', function (e) {\r\n      if (!e.target.closest('.popup__content')) {\r\n        popupClose(e.target.closest('.popup'));\r\n      }\r\n    });\r\n  }\r\n}\r\nfunction popupClose(popupActive, doUnlock = true) {\r\n  if (unlock){\r\n    popupActive.classList.remove('open');\r\n    if(doUnlock) {\r\n      bodyUnlock();\r\n    }\r\n  }\r\n}\r\nfunction bodylock () {\r\n  const lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\r\n  if(lockPadding.length > 0) {  \r\n    for (let item = 0; item<lockPadding.length; item++) {          \r\n      const el = lockPadding[item];\r\n      el.getElementsByClassName.paddingRight = lockPaddingValue;    \r\n    }\r\n  }\r\n  body.style.paddingRight = lockPaddingValue;\r\n  body.classList.add('lock');\r\n\r\n  unlock = false;\r\n  setTimeout( () => {\r\n    unlock = true;\r\n  }, timeout)\r\n}\r\n\r\nfunction bodyUnlock() {\r\n  setTimeout( () => {\r\n    if (lockPadding.length > 0) {\r\n      for (let item = 0; item < lockPadding.length; item++) {\r\n        const el = lockPadding[item];\r\n        el.style.paddingRight = '0px';\r\n      }\r\n    }\r\n    body.style.paddingRight = '0px';\r\n    body.classList.remove('lock');    \r\n  }, timeout);\r\n\r\n  unlock = false;\r\n  setTimeout( () => {\r\n    unlock = true;\r\n  }, timeout)\r\n}\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n  if (e.which === 27) {\r\n    const popupActive = document.querySelector('.popup.open');\r\n    popupClose(popupActive);\r\n  }\r\n});\r\n(function () {\r\n  // проверяем поддержку\r\n  if (!Element.prototype.closest) {\r\n    // реализуем\r\n    Element.prototype.closest = function (css) {\r\n      var node = this;\r\n       while (node) {\r\n         if (node.matches(css)) return node;\r\n         else node = node.parentElement;\r\n       }\r\n       return null;\r\n    };\r\n  }\r\n})();\r\n(function () {\r\n  // проверяем поддержку\r\n  if(!Element.prototype.matches) {\r\n    // определяем свойство\r\n    Element.prototype.matches = Element.prototype.matchesSelector ||\r\n      Element.prototype.webkitMatchesSelector ||\r\n      Element.prototype.mozMatchesSelector ||\r\n      Element.prototype.msMatchesSelector;\r\n  }\r\n})();\r\n  \r\n}\nconst rangeSlider = document.getElementById('range-slider');\r\n\r\nif (rangeSlider) {\r\n\tnoUiSlider.create(rangeSlider, {\r\n    start: [300, 100000],\r\n\t\tconnect: true,\r\n\t\tstep: 1,\r\n    range: {\r\n\t\t\t'min': [300],\r\n\t\t\t'max': [100000]\r\n    }\r\n\t});\r\n\r\n\tconst input0 = document.getElementById('input-0');\r\n\tconst input1 = document.getElementById('input-1');\r\n\tconst inputs = [input0, input1];\r\n\r\n\trangeSlider.noUiSlider.on('update', function(values, handle){\r\n\t\tinputs[handle].value = Math.round(values[handle]);\r\n\t});\r\n\r\n\tconst setRangeSlider = (i, value) => {\r\n\t\tlet arr = [null, null];\r\n\t\tarr[i] = value;\r\n\r\n\t\trangeSlider.noUiSlider.set(arr);\r\n\t};\r\n\r\n\tinputs.forEach((el, index) => {\r\n\t\tel.addEventListener('change', (e) => {\r\n\t\t\tsetRangeSlider(index, e.currentTarget.value);\r\n\t\t});\r\n\t});\r\n}"]}